---
title: '站点搭建过程'
date: 2016-01-30 11:20:00
tags:
  - Hexo
categories:
  - Mark
---

# 20200325

**重大更新**
- 站点生成从Hexo转移至Hugo
- 将源公开站点信息拖管至Github的Private仓库
- 将站点资源部署在阿里云的ECS中，在阿里云中申请SSL证书并关联网站
- 申请网站备案号
- 原有busuanzi统计全部失效，重新统计

# 20200108

- 增加Donate功能(Alipay & wechat)
- 关闭右侧Tag功能

# 20200104

- 添加Theme Module，切换Theme至[icarus](https://github.com/ppoffice/hexo-theme-icarus)
```
git submodule add https://github.com/aimer1124/hexo-theme-icarus themes/icarus
```

# 20191225

- 更新Node:12, Hexo:4

# 20191217

- 增加站点的HTTPS的功能，[https://shiyuanjie.cn](https://shiyuanjie.cn)

# 20191216

- 更新留言功能至[Valine](https://valine.js.org/quickstart.html)，[Theme Update](https://github.com/aimer1124/blog_theme/tree/0416c9baa795a024364c6470b1cedad3450dfc2e)
```
git submodule update --init --remote -- themes/themeHexo
ga themes/themeHexo
gc -m 'Update Comments Plugin'
gp
```

# 20181018

- 由于qiniu官网的[更新](https://developer.qiniu.com/fusion/kb/1319/test-domain-access-restriction-rules)
    - 每30天就会更换测试域名的地址，如果继续用未备案的域名的话，每30天就要把整个网站床图地址更新一遍，用了后期便于维护，把所有相关的图片都从qiniu迁移至github进行托管

# 20181017

- 更新`busuanzi`官方链接：busuanzi.ibruce.info

# 20170322

- 由于之前用的评论插件多说要关闭服务了，所以将评论的内容转移至[Disqus](https://disqus.com/)
- 由于迁移后的原评论无法直接导入，所以原有评论均被清空了  `,`

# 20160926 添加本站的累积访问数据

- 添加页脚的`访问总量`和`访客数`

  - 删除`post.jade`中的`busuanzi`js引用

  - 添加`footer.jade`中的数据显示
  ```
  | Total
  if theme.busuanzi == true
    span#busuanzi_container_site_pv
      span= ' '
      span(rel='nofollow')#busuanzi_value_site_pv
      span(rel='nofollow')= ' ' + __(' hits, ')
    span#busuanzi_container_site_uv
      span(rel='nofollow')#busuanzi_value_site_uv
      span(rel='nofollow')= ' ' + __(' vistors.')
  ```

  - 添加`after_footer.jade`中`busuanzi`的引用

  ```
  if theme.busuanzi == true
    script(src='https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js', async)
  ```

# 20160922 调整所有MD源文件命名

- 取消所有源MD文件的类型分类，源文件分类已无法直接区分文件内容，直接去掉

# 20160919 修复提交`raw`分支时，会将domain清除

- 在theme/source下添加`CNAME`文件，配制domain: [shiyuanjie.cn](http://shiyuanjie.cn)地址

- 添加个人`开发者头条信息`分享号: [测试之自动化](http://toutiao.io/subjects/105063)

# 20160918 添加域名绑定及数据统计

## 域名

- 购买[shiyuanjie.cn](http://www.shiyuanjie.cn)域名
- 配制Github解析地址
- 完成Github站点绑定
- 测试新地址

## 统计数据

- 添加百度关于站点数据统计

## 新域名会清除原有的`卜算子`页面请求统计

# 20160914 部署由`Travis`来完成

- 添加新的分支`raw`,存储所有原文件，便于离线维护
- 将已修改的`theme`主题，提交至Github的Repo中<https://github.com/aimer1124/blog_theme>，便于`自行`维护，添加[.gitmodules](https://github.com/aimer1124/aimer1124.github.io/blob/raw/.gitmodules)文件
- 配制[Travis文件](https://github.com/aimer1124/aimer1124.github.io/blob/raw/.travis.yml)
- 配制[.gitignore](https://github.com/aimer1124/aimer1124.github.io/blob/raw/.gitignore)将不需要提交的文件添加进来

# 20160913 取消文章标题中的类型说明

- 文章标题中的类型有点重复，精简下

# 20160312 补加几篇去年看书的读后感

- 文章的创建时间修改的与去年的读完时间基本相符，这样便于回顾
- 内容都是从自己的笔记和回忆梳理的，以后要在看完书后，及时写下读后感
- 只加了去年看书的一部分，其它的后面整理好了再加上来

# 20160309 添加404跳转页面

- 添加在访问请求资源不存在时，的404跳转页面

# 20160227 屏蔽RSS功能，添加好友

- 屏蔽RSS功能，暂时用不上。在theme/maupassant目录中的_config.yml文件中，屏蔽RSS对应的配制
- 添加link好友[sigh](http://wangximing.github.io/)的功能

# 20160224 更换Theme：[maupassant](https://github.com/tufu9441/maupassant-hexo)

- [Yelee](https://github.com/MOxFIVE/hexo-theme-yelee)的UI比较不错，但不够简洁。好吧，我是一个俗人
- [maupassant](https://github.com/tufu9441/maupassant-hexo)确实是一个UI比较简洁的Theme，so，更换Theme为[maupassant](https://github.com/tufu9441/maupassant-hexo)

# 20160130 更换Theme:Yelee

- 玩[Next](https://github.com/iissnan/hexo-theme-next)有几天，对[Next](https://github.com/iissnan/hexo-theme-next)有几点不太满意，可能是还没有玩透彻吧。最终决定换成：[Yelle](https://github.com/MOxFIVE/hexo-theme-yelee)

  - 标签的链接功能总是不能用
  - 左连的sidebar也总是无法显示出来(已设置sidebar:always)

- 已经完成更换Theme，对[Yelle](https://github.com/MOxFIVE/hexo-theme-yelee)还挺满意的。

# 20160117 搭建并发布第一篇文章

虽然搭建成功有几天，但最终还是想把维护的过程Mark下来

## Hexo

- [Hexo](https://hexo.io/),一个简单、快速、功能强大的Blog搭建框架

```
A fast, simple & powerful blog framework
```

- 安装Hexo

```shell
npm install hexo-cli -g
hexo init blog
cd blog
npm install
hexo server
```

- 脑图 ![hexo 脑图](/img/github.Hexo.png)

## 配制

- Hexo提供了大量主题，可随意选择（[Theme](https://hexo.io/themes/)）。最终选择主题[Next](https://github.com/iissnan/hexo-theme-next)
- 图片存储服务器，选择[7牛](https://qiniu.com/)
- 文章管理，使用[Hexo admin](https://github.com/jaredly/hexo-admin)

## 发布第一篇文章

- 使用[Hexo admin](https://github.com/jaredly/hexo-admin)创建文章
- 启动[Hexo admin](https://github.com/jaredly/hexo-admin)

```shell
hexo s
```

- 新增Post，并完成编写+发布
- 生成部署文件

```
hexo g
```

- 部署到Github

```
hexo d
```
