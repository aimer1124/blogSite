<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JMeter4.0更新内容 | Yuanjie-跑步爱好者，IT从业者。</title><meta name=keywords content="JMeter,性能测试"><meta name=description content="等了这么久，20180210，终于有较大的更新。无论是从 UI 还是功能优化，都让人耳目一新。下面我们就详细看下具体变化。
原文地址：http://jmeter.apache.org/changes.html
下载地址：apache-jmeter-4.0.zip
重要更新
主要变更
JMeter 现在支持 JAVA 9.
新的Boundary Extractor元素可以提供更好的元素提取性能

新的JSON Assertion元素可用于 JSON 响应的断言。

JMS Point-to-Point 样例增加了read,browser,clear选项。
"><meta name=author content="Yuanjie"><link rel=canonical href=https://shiyuanjie.cn/posts/JMeter/JMeter4.0%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9/><link crossorigin=anonymous href=/assets/css/stylesheet.a090830a421002426baafbd314e38f149d77b4c48a12ee9312700d770b27fb26.css integrity="sha256-oJCDCkIQAkJrqvvTFOOPFJ13tMSKEu6TEnANdwsn+yY=" rel="preload stylesheet" as=style><link rel=icon href=https://shiyuanjie.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shiyuanjie.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shiyuanjie.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://shiyuanjie.cn/apple-touch-icon.png><link rel=mask-icon href=https://shiyuanjie.cn/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://shiyuanjie.cn/posts/JMeter/JMeter4.0%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta property="og:url" content="https://shiyuanjie.cn/posts/JMeter/JMeter4.0%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9/"><meta property="og:site_name" content="Yuanjie-跑步爱好者，IT从业者。"><meta property="og:title" content="JMeter4.0更新内容"><meta property="og:description" content="等了这么久，20180210，终于有较大的更新。无论是从 UI 还是功能优化，都让人耳目一新。下面我们就详细看下具体变化。 原文地址：http://jmeter.apache.org/changes.html 下载地址：apache-jmeter-4.0.zip
重要更新 主要变更 JMeter 现在支持 JAVA 9.
新的Boundary Extractor元素可以提供更好的元素提取性能
新的JSON Assertion元素可用于 JSON 响应的断言。
JMS Point-to-Point 样例增加了read,browser,clear选项。"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-02-28T15:20:00+00:00"><meta property="article:modified_time" content="2018-02-28T15:20:00+00:00"><meta property="article:tag" content="JMeter"><meta property="article:tag" content="性能测试"><meta name=twitter:card content="summary"><meta name=twitter:title content="JMeter4.0更新内容"><meta name=twitter:description content="等了这么久，20180210，终于有较大的更新。无论是从 UI 还是功能优化，都让人耳目一新。下面我们就详细看下具体变化。
原文地址：http://jmeter.apache.org/changes.html
下载地址：apache-jmeter-4.0.zip
重要更新
主要变更
JMeter 现在支持 JAVA 9.
新的Boundary Extractor元素可以提供更好的元素提取性能

新的JSON Assertion元素可用于 JSON 响应的断言。

JMS Point-to-Point 样例增加了read,browser,clear选项。
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://shiyuanjie.cn/posts/"},{"@type":"ListItem","position":2,"name":"JMeter4.0更新内容","item":"https://shiyuanjie.cn/posts/JMeter/JMeter4.0%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"JMeter4.0更新内容","name":"JMeter4.0更新内容","description":"等了这么久，20180210，终于有较大的更新。无论是从 UI 还是功能优化，都让人耳目一新。下面我们就详细看下具体变化。 原文地址：http://jmeter.apache.org/changes.html 下载地址：apache-jmeter-4.0.zip\n重要更新 主要变更 JMeter 现在支持 JAVA 9.\n新的Boundary Extractor元素可以提供更好的元素提取性能\n新的JSON Assertion元素可用于 JSON 响应的断言。\nJMS Point-to-Point 样例增加了read,browser,clear选项。\n","keywords":["JMeter","性能测试"],"articleBody":"等了这么久，20180210，终于有较大的更新。无论是从 UI 还是功能优化，都让人耳目一新。下面我们就详细看下具体变化。 原文地址：http://jmeter.apache.org/changes.html 下载地址：apache-jmeter-4.0.zip\n重要更新 主要变更 JMeter 现在支持 JAVA 9.\n新的Boundary Extractor元素可以提供更好的元素提取性能\n新的JSON Assertion元素可用于 JSON 响应的断言。\nJMS Point-to-Point 样例增加了read,browser,clear选项。\n将许多测试元素的最佳选项已设置为默认选中内容，如：\n新增If Controller控制器使用最佳性能选择的默认表达式。 新增JSR223测试元素，在语言使用支持的情况下，默认缓存编写的脚本。 Loop controller和ForEach Controller会使用 __jm____idx来暴露循环的遍历次数，可以像下面的方式来使用一个名为 MyLoopController 的 Loop Controller：\n${__jm__MyLoopController__idx}\n详见Bug 61802.\nCookies 在录制过程中，会展示在View Results Tree中。之前他们总是显示为空。\nResponse Assertion允许定制断言信息和请求数据。\nUX 提升 JMeter 现在默认使用Darcula LAFUI样式。\nWokbench 已经被从 UI 中去掉，你可以使用Test Plan中Non Test Elements的子元素来添加对应 Workbench 中的功能。\n菜单样式将最常用元素调整为快速进行操作。\nHTTP(S) Test Script Recorder 允许在录制时，定制更加人性化的 transactions的名称。\nUX样式还有以下提升：\nModule Controller 会提示用户最少需要有一个Controller。 Function Helper Dialog(帮助使用和测试功能的说明)在多个位置有提升。 Swich Controller会自动trim字符串前后的空格，减少问题出现。 Test Plan在运行前会保存。 函数 新函数 __digest 用户快速提升 SHA-XXX，MDX Hash 计算：\n${__digest(MD5,Apache JMeter 4.0 rocks !,,,)} 返回0e16c3ce9b6c9971c69ad685fd875d2b\n新函数 __dateTimeConvert 提供两种时间格式的快速转换：\n${__dateTimeConvert(01 Jan 2017,dd MMM yyyy,dd/MM/yyyy,)} 返回01/01/2017\n新函数 changeCase提供字符在大写、小写、驼峰式之间的转换：\n${__changeCase(Avaro omnia desunt\\, inopi pauca\\, sapienti nihil,UPPER,)} 返回AVARO OMNIA DESUNT, INOPI PAUCA, SAPIENTI NIHIL\n新函数__isVarDefined和 __isPropDefined 用于测试属性和变量是否可用。\n${__isPropDefined(START.HMS)} 返回 true\n${__isVarDefined(JMeterThread.last_sample_ok)} 返回 true\n编码和插件开发 如果你不想样例在测试结果中出现，可以调用SampleResult#setIgnore()。\nJavaSamplerContext 替代在AbstractJavaSamplerClient，有新的方法用于快速的插件开发。\nJMeter 现在发布 Maven 源和 JavaDoc在Maven repository中。\n插件可以注册监听事件，当收到 TestPlan 的开启/关闭状态通知时。\n实时报告和 Web 报告 InfluxDB backend listener支持通过使用**TAG_**来定制化 tags，详见Bug 61794.\n在 Web 报告中 responseTime分布图更加精细。\n一些 BUG 修复也被集成在报告模块中，详见Bug 61900，Bug 61956，Bug 61899。图表中 Latency Vs Request 和 Response Time Vs Request 不会超过1000RPS，详见Bug 61962。\nJMeter 环境配制 JMeter 的启动脚本用于 JVM设置的被放在了单独的文件中(Unix 中是bin/setenv.sh，Windows 中是bin\\setenv.bat)，在启动时会被调用。这样，启动脚本再也不用编辑了。\n优化调整 线程组的Start time 和 End date被移除，详见Bug 61549 分布式测试中，Hold模式被删除。使用其它替代和更有效的模式 针对第三方插件，方法org.apache.jmeter.gui.tree.JMeterTreeNode为合并至 Java9已被废弃(Bug 61529) public Enumeration children() tearDown Thread Group 在默认情况下，会停止并关闭测试。如果你不想这样做，去掉 Test Plan中的Run tearDown Thread Groups after shutdown of main threads on Test Plan勾选。详见Bug 61656 sampleresult.getbytes.headers_size属性和sampleresult.getbytes.body_real_size属性被废弃。详见Bug 61587 JMeter 现在会在每次运行时保存测试计划，这个行为可以通过save_automatically_before_run来设置。详见Bug 61731 Workbench元素被废弃，你可以直接添加Test Plan 中 Non Test Element的子元素来直接添加。当加载一个包含这种元素的 Test Plan时，JMeter 会增加将**Mirror Server, Property Display ** 和 HTTP(s) Test Script Recorder添加为直接子元素。对于任何元素，它会创建一个 Test Fragment元素，调用 Workbench Test Fragment 并将元素移入。 下面的类被废弃(org.apache.jmeter.functions.util.ArgumentEncoder, org.apache.jmeter.functions.util.ArgumentDecoder)，详见Pull request #335 在JMS Point-to-Point样例中，设置超时为0时，表示无穷大的时间。未设置时，表示超时为2000ms。详见Bug 61829 当断言用于不同的范围时，它们会被从最外围一个至最内部的一个。详见Bug 61846 JMeter 现在默认启动语言为英语。这是因为缺少很多种类的语言翻译支持。可以通过修改 jmeter 和 jmeter.bat(或最好用 setenv.sh/setenv.bat)中的JVM_ARGS系统设置来调整。我们也很高兴，如果你能贡献支持语言的翻译工作。 Switch Controller现在默认会 trim掉无用的空格，减少问题出现。详见Bug 61771 JMeter JVM 堆设置从**-Xms512m -Xmx512m调整为-Xms1g -Xmx1g**。 ","wordCount":"2226","inLanguage":"en","datePublished":"2018-02-28T15:20:00Z","dateModified":"2018-02-28T15:20:00Z","author":{"@type":"Person","name":"Yuanjie"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://shiyuanjie.cn/posts/JMeter/JMeter4.0%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9/"},"publisher":{"@type":"Organization","name":"Yuanjie-跑步爱好者，IT从业者。","logo":{"@type":"ImageObject","url":"https://shiyuanjie.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://shiyuanjie.cn/ accesskey=h title="Yuanjie-跑步爱好者，IT从业者。 (Alt + H)">Yuanjie-跑步爱好者，IT从业者。</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shiyuanjie.cn/tools/ title=小工具><span>小工具</span></a></li><li><a href=https://shiyuanjie.cn/archives/ title=归档><span>归档</span></a></li><li><a href=https://shiyuanjie.cn/about/ title=关于><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://shiyuanjie.cn/>Home</a>&nbsp;»&nbsp;<a href=https://shiyuanjie.cn/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">JMeter4.0更新内容</h1><div class=post-meta><span title='2018-02-28 15:20:00 +0000 UTC'>February 28, 2018</span>&nbsp;·&nbsp;<span>5 min</span>&nbsp;·&nbsp;<span>Yuanjie</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e9%87%8d%e8%a6%81%e6%9b%b4%e6%96%b0 aria-label=重要更新>重要更新</a><ul><li><a href=#%e4%b8%bb%e8%a6%81%e5%8f%98%e6%9b%b4 aria-label=主要变更>主要变更</a></li><li><a href=#ux-%e6%8f%90%e5%8d%87 aria-label="UX 提升">UX 提升</a></li><li><a href=#%e5%87%bd%e6%95%b0 aria-label=函数>函数</a></li><li><a href=#%e7%bc%96%e7%a0%81%e5%92%8c%e6%8f%92%e4%bb%b6%e5%bc%80%e5%8f%91 aria-label=编码和插件开发>编码和插件开发</a></li><li><a href=#%e5%ae%9e%e6%97%b6%e6%8a%a5%e5%91%8a%e5%92%8c-web-%e6%8a%a5%e5%91%8a aria-label="实时报告和 Web 报告">实时报告和 Web 报告</a></li><li><a href=#jmeter-%e7%8e%af%e5%a2%83%e9%85%8d%e5%88%b6 aria-label="JMeter 环境配制">JMeter 环境配制</a></li><li><a href=#%e4%bc%98%e5%8c%96%e8%b0%83%e6%95%b4 aria-label=优化调整>优化调整</a></li></ul></li></ul></div></details></div><div class=post-content><pre tabindex=0><code>等了这么久，20180210，终于有较大的更新。无论是从 UI 还是功能优化，都让人耳目一新。下面我们就详细看下具体变化。
</code></pre><p>原文地址：<a href=http://jmeter.apache.org/changes.html>http://jmeter.apache.org/changes.html</a>
下载地址：<a href=http://ftp.cuhk.edu.hk/pub/packages/apache.org//jmeter/binaries/apache-jmeter-4.0.zip>apache-jmeter-4.0.zip</a></p><h2 id=重要更新>重要更新<a hidden class=anchor aria-hidden=true href=#重要更新>#</a></h2><h3 id=主要变更>主要变更<a hidden class=anchor aria-hidden=true href=#主要变更>#</a></h3><p>JMeter 现在支持 JAVA 9.</p><p>新的<a href=http://jmeter.apache.org/usermanual/component_reference.html#Boundary_Extractor>Boundary Extractor</a>元素可以提供更好的元素提取性能</p><p><img loading=lazy src=http://jmeter.apache.org/images/screenshots/changes/4.0/boundary_extractor.png></p><p>新的<a href=http://jmeter.apache.org/usermanual/component_reference.html#JSON_Assertion>JSON Assertion</a>元素可用于 JSON 响应的断言。</p><p><img loading=lazy src=http://jmeter.apache.org/images/screenshots/changes/4.0/json_assertion.png></p><p>JMS Point-to-Point 样例增加了<strong>read,browser,clear</strong>选项。</p><p><img loading=lazy src=http://jmeter.apache.org/images/screenshots/changes/4.0/jmsptp_communication_styles.png></p><p>将许多测试元素的最佳选项已设置为默认选中内容，如：</p><ul><li>新增<strong>If Controller</strong>控制器使用最佳性能选择的默认表达式。</li></ul><p><img loading=lazy src=http://jmeter.apache.org/images/screenshots/changes/4.0/if_controller_condition.png></p><p><img loading=lazy src=http://jmeter.apache.org/images/screenshots/changes/4.0/if_controller_expression.png></p><ul><li>新增JSR223测试元素，在语言使用支持的情况下，默认缓存编写的脚本。</li></ul><p><a href=http://jmeter.apache.org/usermanual/component_reference.html#Loop_Controller>Loop controller</a>和<a href=http://jmeter.apache.org/usermanual/component_reference.html#ForEach_Controller>ForEach Controller</a>会使用 <code>__jm__&lt;Name of your element>__idx</code>来暴露循环的遍历次数，可以像下面的方式来使用一个名为 MyLoopController 的 Loop Controller：</p><p><code>${__jm__MyLoopController__idx}</code></p><p>详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61802">Bug 61802</a>.</p><p>Cookies 在录制过程中，会展示在<strong>View Results Tree</strong>中。之前他们总是显示为空。</p><p><a href=http://jmeter.apache.org/usermanual/component_reference.html#Response_Assertion>Response Assertion</a>允许定制断言信息和请求数据。</p><p><img loading=lazy src=http://jmeter.apache.org/images/screenshots/changes/4.0/response_assertion_enhancements.png></p><h3 id=ux-提升>UX 提升<a hidden class=anchor aria-hidden=true href=#ux-提升>#</a></h3><p>JMeter 现在默认使用<a href=https://github.com/bulenkov/Darcula>Darcula LAF</a>UI样式。</p><p>Wokbench 已经被从 UI 中去掉，你可以使用<strong>Test Plan</strong>中<strong>Non Test Elements</strong>的子元素来添加对应 Workbench 中的功能。</p><p><img loading=lazy src=http://jmeter.apache.org/images/screenshots/changes/4.0/goodbye_workbench.png></p><p>菜单样式将最常用元素调整为快速进行操作。</p><p><img loading=lazy src=http://jmeter.apache.org/images/screenshots/changes/4.0/menu_organization.png></p><p><strong>HTTP(S) Test Script Recorder</strong> 允许在录制时，定制更加人性化的 <strong>transactions</strong>的名称。</p><p><img loading=lazy src=http://jmeter.apache.org/images/screenshots/changes/4.0/recorder_naming_samplers.png></p><p>UX样式还有以下提升：</p><ul><li><code>Module Controller </code>会提示用户最少需要有一个<code>Controller</code>。</li><li><code>Function Helper Dialog</code>(帮助使用和测试功能的说明)在多个位置有提升。</li></ul><p><img loading=lazy src=http://jmeter.apache.org/images/screenshots/changes/4.0/function_helper_dialog_enhancements.png></p><ul><li><code>Swich Controller</code>会自动<code>trim</code>字符串前后的空格，减少问题出现。</li><li><code>Test Plan</code>在运行前会保存。</li></ul><h3 id=函数>函数<a hidden class=anchor aria-hidden=true href=#函数>#</a></h3><p>新函数 <a href=http://jmeter.apache.org/usermanual/functions.html#__digest>__digest</a> 用户快速提升 SHA-XXX，MDX Hash 计算：</p><pre tabindex=0><code>${__digest(MD5,Apache JMeter 4.0 rocks !,,,)}
</code></pre><p>返回<strong>0e16c3ce9b6c9971c69ad685fd875d2b</strong></p><p>新函数 <a href=http://jmeter.apache.org/usermanual/functions.html#__dateTimeConvert>__dateTimeConvert</a> 提供两种时间格式的快速转换：</p><pre tabindex=0><code>${__dateTimeConvert(01 Jan 2017,dd MMM yyyy,dd/MM/yyyy,)}
</code></pre><p>返回<strong>01/01/2017</strong></p><p>新函数 <a href=http://jmeter.apache.org/usermanual/functions.html#__changeCase>changeCase</a>提供字符在大写、小写、驼峰式之间的转换：</p><pre tabindex=0><code>${__changeCase(Avaro omnia desunt\, inopi pauca\, sapienti nihil,UPPER,)}
</code></pre><p>返回<strong>AVARO OMNIA DESUNT, INOPI PAUCA, SAPIENTI NIHIL</strong></p><p>新函数<a href=http://jmeter.apache.org/usermanual/functions.html#__isVarDefined>__isVarDefined</a>和 <a href=http://jmeter.apache.org/usermanual/functions.html#__isPropDefined>__isPropDefined</a> 用于测试属性和变量是否可用。</p><pre tabindex=0><code>${__isPropDefined(START.HMS)}
</code></pre><p>返回 <strong>true</strong></p><pre tabindex=0><code>${__isVarDefined(JMeterThread.last_sample_ok)}
</code></pre><p>返回 <strong>true</strong></p><h3 id=编码和插件开发>编码和插件开发<a hidden class=anchor aria-hidden=true href=#编码和插件开发>#</a></h3><p>如果你不想样例在测试结果中出现，可以调用<strong>SampleResult#setIgnore()</strong>。</p><p><strong>JavaSamplerContext</strong> 替代在<strong>AbstractJavaSamplerClient</strong>，有新的方法用于快速的插件开发。</p><p>JMeter 现在发布 Maven 源和 JavaDoc在<a href=https://repo1.maven.org/maven2/org/apache/jmeter/ApacheJMeter_core/4.0/>Maven repository</a>中。</p><p>插件可以注册监听事件，当收到 TestPlan 的开启/关闭状态通知时。</p><h3 id=实时报告和-web-报告>实时报告和 Web 报告<a hidden class=anchor aria-hidden=true href=#实时报告和-web-报告>#</a></h3><p><strong>InfluxDB backend listener</strong>支持通过使用**TAG_**来定制化 tags，详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61794">Bug 61794</a>.</p><p>在 Web 报告中 <strong>responseTime</strong>分布图更加精细。</p><p>一些 BUG 修复也被集成在报告模块中，详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61900">Bug 61900</a>，<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61956">Bug 61956</a>，<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61899">Bug 61899</a>。图表中 <strong>Latency Vs Request</strong> 和 <strong>Response Time Vs Request</strong> 不会超过1000RPS，详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61962">Bug 61962</a>。</p><h3 id=jmeter-环境配制>JMeter 环境配制<a hidden class=anchor aria-hidden=true href=#jmeter-环境配制>#</a></h3><p>JMeter 的启动脚本用于 JVM设置的被放在了单独的文件中(Unix 中是<strong>bin/setenv.sh</strong>，Windows 中是<strong>bin\setenv.bat</strong>)，在启动时会被调用。这样，启动脚本再也不用编辑了。</p><h3 id=优化调整>优化调整<a hidden class=anchor aria-hidden=true href=#优化调整>#</a></h3><ul><li>线程组的<strong>Start time</strong> 和 <strong>End date</strong>被移除，详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61549">Bug 61549</a></li><li>分布式测试中，<strong>Hold</strong>模式被删除。使用其它替代和更有效的模式</li><li>针对第三方插件，方法<strong>org.apache.jmeter.gui.tree.JMeterTreeNode</strong>为合并至 Java9已被废弃(<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61529">Bug 61529</a>)</li></ul><pre tabindex=0><code>public Enumeration&lt;JMeterTreeNode&gt; children()
</code></pre><ul><li><strong>tearDown Thread Group</strong> 在默认情况下，会停止并关闭测试。如果你不想这样做，去掉 <strong>Test Plan</strong>中的<strong>Run tearDown Thread Groups after shutdown of main threads on Test Plan</strong>勾选。详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61656">Bug 61656</a></li><li><strong>sampleresult.getbytes.headers_size</strong>属性和<strong>sampleresult.getbytes.body_real_size</strong>属性被废弃。详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61587">Bug 61587</a></li><li>JMeter 现在会在每次运行时保存测试计划，这个行为可以通过<strong>save_automatically_before_run</strong>来设置。详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61731">Bug 61731</a></li><li><strong>Workbench</strong>元素被废弃，你可以直接添加<strong>Test Plan</strong> 中 <strong>Non Test Element</strong>的子元素来直接添加。当加载一个包含这种元素的 <strong>Test Plan</strong>时，JMeter 会增加将**Mirror Server, Property Display ** 和 <strong>HTTP(s) Test Script Recorder</strong>添加为直接子元素。对于任何元素，它会创建一个 <strong>Test Fragment</strong>元素，调用 <strong>Workbench Test Fragment 并将元素移入</strong>。</li><li>下面的类被废弃(<strong>org.apache.jmeter.functions.util.ArgumentEncoder, org.apache.jmeter.functions.util.ArgumentDecoder</strong>)，详见<a href=https://github.com/apache/jmeter/pull/335>Pull request #335</a></li><li>在<strong>JMS Point-to-Point</strong>样例中，设置超时为0时，表示无穷大的时间。未设置时，表示超时为2000ms。详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61829">Bug 61829</a></li><li>当断言用于不同的范围时，它们会被从最外围一个至最内部的一个。详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61846">Bug 61846</a></li><li>JMeter 现在默认启动语言为英语。这是因为缺少很多种类的语言翻译支持。可以通过修改 jmeter 和 jmeter.bat(或最好用 setenv.sh/setenv.bat)中的<strong>JVM_ARGS</strong>系统设置来调整。我们也很高兴，如果你能贡献支持语言的翻译工作。</li><li><strong>Switch Controller</strong>现在默认会 trim掉无用的空格，减少问题出现。详见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61771">Bug 61771</a></li><li>JMeter JVM 堆设置从**-Xms512m -Xmx512m<strong>调整为</strong>-Xms1g -Xmx1g**。</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://shiyuanjie.cn/tags/JMeter/>JMeter</a></li><li><a href=https://shiyuanjie.cn/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/>性能测试</a></li></ul><nav class=paginav><a class=prev href=https://shiyuanjie.cn/posts/UITest/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA-Headless-%E7%9A%84-E2E-%E6%B5%8B%E8%AF%95/><span class=title>« Prev</span><br><span>构建Headless 的 E2E 测试</span>
</a><a class=next href=https://shiyuanjie.cn/posts/Flags/2017CalendarTips/><span class=title>Next »</span><br><span>2017Calendar中的提示</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share JMeter4.0更新内容 on x" href="https://x.com/intent/tweet/?text=JMeter4.0%e6%9b%b4%e6%96%b0%e5%86%85%e5%ae%b9&amp;url=https%3a%2f%2fshiyuanjie.cn%2fposts%2fJMeter%2fJMeter4.0%25E6%259B%25B4%25E6%2596%25B0%25E5%2586%2585%25E5%25AE%25B9%2f&amp;hashtags=JMeter%2c%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share JMeter4.0更新内容 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fshiyuanjie.cn%2fposts%2fJMeter%2fJMeter4.0%25E6%259B%25B4%25E6%2596%25B0%25E5%2586%2585%25E5%25AE%25B9%2f&amp;title=JMeter4.0%e6%9b%b4%e6%96%b0%e5%86%85%e5%ae%b9&amp;summary=JMeter4.0%e6%9b%b4%e6%96%b0%e5%86%85%e5%ae%b9&amp;source=https%3a%2f%2fshiyuanjie.cn%2fposts%2fJMeter%2fJMeter4.0%25E6%259B%25B4%25E6%2596%25B0%25E5%2586%2585%25E5%25AE%25B9%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share JMeter4.0更新内容 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fshiyuanjie.cn%2fposts%2fJMeter%2fJMeter4.0%25E6%259B%25B4%25E6%2596%25B0%25E5%2586%2585%25E5%25AE%25B9%2f&title=JMeter4.0%e6%9b%b4%e6%96%b0%e5%86%85%e5%ae%b9"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share JMeter4.0更新内容 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fshiyuanjie.cn%2fposts%2fJMeter%2fJMeter4.0%25E6%259B%25B4%25E6%2596%25B0%25E5%2586%2585%25E5%25AE%25B9%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share JMeter4.0更新内容 on whatsapp" href="https://api.whatsapp.com/send?text=JMeter4.0%e6%9b%b4%e6%96%b0%e5%86%85%e5%ae%b9%20-%20https%3a%2f%2fshiyuanjie.cn%2fposts%2fJMeter%2fJMeter4.0%25E6%259B%25B4%25E6%2596%25B0%25E5%2586%2585%25E5%25AE%25B9%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share JMeter4.0更新内容 on telegram" href="https://telegram.me/share/url?text=JMeter4.0%e6%9b%b4%e6%96%b0%e5%86%85%e5%ae%b9&amp;url=https%3a%2f%2fshiyuanjie.cn%2fposts%2fJMeter%2fJMeter4.0%25E6%259B%25B4%25E6%2596%25B0%25E5%2586%2585%25E5%25AE%25B9%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share JMeter4.0更新内容 on ycombinator" href="https://news.ycombinator.com/submitlink?t=JMeter4.0%e6%9b%b4%e6%96%b0%e5%86%85%e5%ae%b9&u=https%3a%2f%2fshiyuanjie.cn%2fposts%2fJMeter%2fJMeter4.0%25E6%259B%25B4%25E6%2596%25B0%25E5%2586%2585%25E5%25AE%25B9%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main></body></html>