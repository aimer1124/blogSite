<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Hugo | Yuanjie-跑步爱好者，IT从业者。</title><meta name=keywords content><meta name=description content="跑步爱好者，IT从业者。"><meta name=author content="Yuanjie"><link rel=canonical href=https://shiyuanjie.cn/tags/Hugo/><link crossorigin=anonymous href=/assets/css/stylesheet.a090830a421002426baafbd314e38f149d77b4c48a12ee9312700d770b27fb26.css integrity="sha256-oJCDCkIQAkJrqvvTFOOPFJ13tMSKEu6TEnANdwsn+yY=" rel="preload stylesheet" as=style><link rel=icon href=https://shiyuanjie.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shiyuanjie.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shiyuanjie.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://shiyuanjie.cn/apple-touch-icon.png><link rel=mask-icon href=https://shiyuanjie.cn/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://shiyuanjie.cn/tags/Hugo/index.xml title=rss><link rel=alternate hreflang=en href=https://shiyuanjie.cn/tags/Hugo/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta property="og:url" content="https://shiyuanjie.cn/tags/Hugo/"><meta property="og:site_name" content="Yuanjie-跑步爱好者，IT从业者。"><meta property="og:title" content="Hugo"><meta property="og:description" content="跑步爱好者，IT从业者。"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Hugo"><meta name=twitter:description content="跑步爱好者，IT从业者。"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://shiyuanjie.cn/ accesskey=h title="Yuanjie-跑步爱好者，IT从业者。 (Alt + H)">Yuanjie-跑步爱好者，IT从业者。</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shiyuanjie.cn/tools/ title=小工具><span>小工具</span></a></li><li><a href=https://shiyuanjie.cn/archives/ title=归档><span>归档</span></a></li><li><a href=https://shiyuanjie.cn/about/ title=关于><span>关于</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://shiyuanjie.cn/>Home</a>&nbsp;»&nbsp;<a href=https://shiyuanjie.cn/tags/>Tags</a></div><h1>Hugo</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>转移hexo文章至Hugo</h2></header><div class=entry-content><p>Github源代码地址：https://github.com/aimer1124/python-format-md
为什么做这个： 把原来博客的文章从Hexo转移至Hugo，但两者在MD文件头部处理不一致。
Hexo格式 1 2 3 4 5 6 7 8 9 title: 'Http-Header' tags: - API测试 - SuperTest categories: - Tool date: 2016-02-29 20:14:00 thumbnail: /img/a.png --- Hugo格式 1 2 3 4 5 6 7 8 9 --- title: 'Http-Header' tags: - API测试 - SuperTest categories: - Tool date: 2016-02-29 20:14:00 --- 暂时发现，需要处理的内容有两处：
在文件首行添加--- 删除MD文件Header中的thumbnail字段（nice to have） Function Read MD file content Create source MD file Create covert file Read MD file Save the change to MD file Make Change to the MD file Save the change to New file Add --- to the first line of the MD file Delete thumbnail in the file format Find thumbnail line Delete the line Batch to update MD files in the folder read the list in the folder make the convert to the file in the list save the new file to the new folder Day by Day Day 1 Set source md file, source.md Create convert.py as convert controller Use open(file, "r").read() to get MD file content Day 2 Make Change and save to new MD file Add --- to new MD file Delete the line with thumbnail 1 2 lines = (i for i in sourceFile if 'thumbnail' not in i ) targetFile.writelines(lines) Use readlines to convert file: list.insert(index,obj) for add --- and list.remove(obj) for delete thumbnail 1 2 3 4 5 6 7 8 9 sourceFileList = sourceFile.readlines() sourceFileList.insert(0,"---\n") for line in sourceFileList: print(line) if "thumbnail" in line: sourceFileList.remove(line) targetFile.writelines(sourceFileList) Day 3 Refactor the code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 def convert(sourceFile, targetFile): sourceFile = open(source, "r") targetFile = open(target,"w") sourceFileList = sourceFile.readlines() sourceFileList.insert(0,"---\n") for line in sourceFileList: # print(line) if "thumbnail" in line: sourceFileList.remove(line) targetFile.writelines(sourceFileList) targetFile.close() sourceFile.close() Get the list in the folder 1 2 import os sourceFileList = os.listdir(sourcePath) Convert the files 1 2 3 4 5 for fileName in sourceFileList: print("Convert file: " + fileName) target = "./target.md" convert(sourcePath + fileName, targetPath + fileName) 参考 文件读写: https://www.runoob.com/python/python-files-io.html Python List: https://www.runoob.com/python/python-lists.html Python File: https://www.runoob.com/python/os-listdir.html</p></div><footer class=entry-footer><span title='2020-03-31 16:16:25 +0800 +0800'>March 31, 2020</span>&nbsp;·&nbsp;<span>2 min</span>&nbsp;·&nbsp;<span>Yuanjie</span></footer><a class=entry-link aria-label="post link to 转移hexo文章至Hugo" href=https://shiyuanjie.cn/posts/Blog/migrate-from-hexo-to-hugo/></a></article></main></body></html>